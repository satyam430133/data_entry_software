{% extends "base.html" %}

{% block title %}New Entry - HeavensEvent{% endblock %}

{% block content %}

<div class="w-full max-w-lg bg-white/10 backdrop-blur-md p-8 rounded-2xl shadow-xl">
  <h2 class="text-2xl font-bold mb-6 text-center">📝 New Data Entry</h2>

  <form action="{% url 'entry_page' %}" method="POST" class="space-y-4">
    {% csrf_token %}

    <!-- Name -->
    <div>
      <label class="block mb-2 font-medium">Name</label>
      <input type="text" name="name" placeholder="Enter name" required {% if name %} value="{{name}}" {% endif %}
             class="w-full px-4 py-2 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-yellow-300">
    </div>

    <!-- Mobile Number -->
    <div>
      <label class="block mb-2 font-medium">Contact</label>
      <input type="number" name="contact" placeholder="Enter Phone No."   pattern="[0-9]{10}" maxlength="10" required
      {% if contact %} value="{{contact}}" {% endif %}
             class="w-full px-4 py-2 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-yellow-300">
    </div>

    <!-- location -->
    <div>
      <label class="block mb-2 font-medium">Location</label>
      <input type="location" name="location" placeholder="location" required {% if location %} value="{{location}}" {% endif %}
             class="w-full px-4 py-2 rounded-lg text-black focus:outline-none focus:ring-2 focus:ring-yellow-300">
    </div>

    <!-- Submit -->
    <div class="text-center">
      <button type="submit"
              class="bg-yellow-400 hover:bg-yellow-300 text-black font-semibold px-6 py-2 rounded-full shadow-lg transition">
        Save Entry
      </button>
    </div>
  </form>
</div>
{% if alert %}
<div id="toast"
     class="fixed top-5 right-5 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg animate-bounce">
  {{ alert }}
</div>

<script>
  // Auto hide after 3 sec
  setTimeout(() => {
    document.getElementById("toast").style.display = "none";
  }, 3000);
</script>
{% endif %}

{% endblock %}

